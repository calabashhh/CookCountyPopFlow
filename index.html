<!DOCTYPE html>
<html>
    <head>
        <title>Lab 6</title>
        <style>
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
            #map {
                height: 100%;
                width: 100%;
            }
        </style>
     
        <!-- Load your data first -->
        <script type="text/javascript" src="CookCountyLargeNetOut.js"></script>
        
        <!-- Leaflet CSS and JS -->
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
           integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
           crossorigin=""/>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
           integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
           crossorigin=""></script>
                    
        <!-- Load animation tweening library -->
        <script src="https://unpkg.com/@tweenjs/tween.js@18.6.4/dist/tween.umd.js"></script>
        
        <!-- Load CanvasFlowMapLayer -->
        <script src="CanvasFlowmapLayer.js"></script>
    </head>
    <body>
        <div id="map"></div>
        <script type="text/javascript">
        
            
            var map = L.map('map', {
                center: [41, -87],
                zoom: 5
            });
            
            L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png', {
                attribution: 'Map tiles by Carto, under CC BY 3.0. Data by OpenStreetMap, under ODbL.',
                maxZoom: 11,
                minZoom: 5
            }).addTo(map);

           
            try {
                var flowmapLayer = L.canvasFlowmapLayer(data, {
                    originAndDestinationFieldIds: {
                        originUniqueIdField: 'GEOID_B',
                        originGeometry: {
                            x: 'B_lon',
                            y: 'B_lat'
                        },
                        destinationUniqueIdField: 'GEOID_A',
                        destinationGeometry: {
                            x: 'A_lon',
                            y: 'A_lat'
                        }
                    },

                    canvasBezierStyle: {
                   
                      type: 'classBreaks',
                      field: 'Net_B2A', // The field/value to be used for symbolizing the lines
                    
                      // Define the classes and symbols below
                      classBreakInfos: [{
                        classMinValue: 400,  // break values of this class, using field values defined above
                        classMaxValue: 433,
                        symbol: {  // Define the symbology for this class
                                   // See an example from the documentation:https://github.com/jwasilgeo/Leaflet.Canvas-Flowmap-Layer/blob/master/docs/class-breaks-symbology/index.html#L94-L137
                          strokeStyle: '#AD0755',  // flow line color
                          lineWidth: 10,  // flow line width
                          lineCap: 'round',  // shape of the stroke end
                        }
                      }, {  // another class
                        classMinValue: 300,
                        classMaxValue: 399,
                        symbol: {
                          strokeStyle: '#B21D63',
                          lineWidth: 6,
                          lineCap: 'round',
                        }
                      }, {  // one more class
                        classMinValue: 200,
                        classMaxValue: 299,
                        symbol: {
                          strokeStyle: '#CA2070',
                          lineWidth: 3.5,
                          lineCap: 'round',
                        }
                      }],
                    },

                    
                    pathDisplayMode: 'all',
                    animationStarted: true,
                    animationEasingFamily: 'Cubic',
                    animationEasingType: 'Out',
                    animationDuration: 2000
                }).addTo(map);
            } catch (e) {
                console.error('Error creating flow map layer:', e);
            }
        </script>
   </body>
</html>index.html
